---
title: "Tauriã§ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã‚’ä½œã‚ã†ï¼"
emoji: "ğŸ„"
type: "tech"
topics:
  - "react"
  - "web"
  - "adventcalendar"
  - "tauri"
  - "adventcalendar2023"
published: true
published_at: "2023-12-14 18:52"
---

# ã¯ã˜ã‚ã«
ã“ã®è¨˜äº‹ã¯[ãƒ‘ãƒ³å±‹ã•ã‚“ã€‚](https://twitter.com/Bakery_panya)ä¸»å‚¬ã®**å…¨å›½é«˜å°‚_éå…¬å¼ Advent Calendar 2023**ã«å‚åŠ ã—ã¦ã„ã¾ã™ï¼
ä»–ã®è¨˜äº‹ã¯ã“ã¡ã‚‰ã‹ã‚‰ï¼
https://t.co/38eIClHk7E

### æ¦‚è¦
ãƒ‘ãƒƒã¨ä½•ã‹ã‚’æ€ã„ç«‹ã£ã¦ã‚¢ãƒ—ãƒªã‚’ä½œã£ãŸæ™‚ã«ã‚¢ãƒ—ãƒªãŒãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«å¯¾å¿œã—ã¦ã„ã‚‹ã¨ä½•ã‹ã¨å¬‰ã—ã„ã§ã™ã‚ˆã­ã€‚
ä»Šå›ã¯Tauriã¨ã„ã†ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã£ãŸãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã®ä½œã‚Šæ–¹ã«ã¤ã„ã¦ã€
ç§ãŒä»¥å‰ä½œã£ãŸã‚¢ãƒ—ãƒªã‚’äº¤ãˆã¦ç°¡å˜ã«è§£èª¬ã—ã¦ã„ãã¾ã™ï¼

### è‡ªå·±ç´¹ä»‹
ç¦äº•é«˜å°‚ 5å¹´
Unityã‚’å¼„ã‚‹ã®ãŒå¥½ãã§é«˜å°‚ãƒ—ãƒ­ã‚³ãƒ³ã¨ã‹å‡ºã¾ã—ãŸ
æœ€è¿‘ã¯ç‡ˆæ ªå¼ä¼šç¤¾ã§é•·æœŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã‚’ã—ã¦ã„ã¦Webé–‹ç™ºã‚’ãƒ¡ã‚¤ãƒ³ã§ã‚„ã£ã¦ã„ã¾ã™

### è¨€ã„è¨³
:::message
ç§ãŒä»Šå›ã®ã‚¢ãƒ—ãƒªã‚’ä½œã£ãŸã®ã¯ç´„åŠå¹´å‰ã§ç¾åœ¨ã¯è©³ç´°ãªå®Ÿè£…æ–¹æ³•ãªã©ãŒã†ã‚è¦šãˆã§ã™...
å®Ÿéš›ã«åŒã˜ã‚ˆã†ãªã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„æ–¹ã¯ä½œæˆã—ãŸã‚¢ãƒ—ãƒªã®GitHubãƒªãƒã‚¸ãƒˆãƒªã‚„ä»–ã®æ–¹ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã¿ã¦ãã ã•ã„ã€‚
:::


## ä½œã£ãŸã‚‚ã®
https://github.com/void2610/Simple-YouTube-Player
ã“ã¡ã‚‰ãŒä»Šå›åˆ¶ä½œã—ãŸã‚¢ãƒ—ãƒªã§ã™ã€‚

å‹•ä½œã—ã¦ã„ã‚‹å‹•ç”»
https://youtu.be/qNA2knqxbIE



YouTubeã®å‹•ç”»/ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã®urlã‚’å…¥åŠ›ã™ã‚‹ã¨ã€ãã®å‹•ç”»ã‚’**åºƒå‘Šãªã—ã§**å†ç”Ÿã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
æ›´ã«ãƒˆãƒ©ãƒƒã‚¯ç®¡ç†æ©Ÿèƒ½ã€å±¥æ­´æ©Ÿèƒ½ã€ãƒ†ãƒ¼ãƒ(è‰²)å¤‰æ›´æ©Ÿèƒ½ãªã©ã‚’ã¤ã‘ã¦ã¿ã¾ã—ãŸ

ä½¿ç”¨å ´é¢ã¨ã—ã¦ã¯ä¸»ã«ã‚²ãƒ¼ãƒ ä¸­ã«è£ã§å‹•ç”»ã‚„éŸ³æ¥½ã‚’æµã™å ´é¢ã‚’æƒ³å®šã—ã¦ã„ã¾ã™ã€‚
åºƒå‘Šãƒ–ãƒ­ãƒƒã‚¯ã®ãŸã‚ã« Chromeãªã©ã®æ¿€é‡ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ã‚²ãƒ¼ãƒ ä¸­ã«é–‹ãã“ã¨ã‹ã‚‰è§£æ”¾ã•ã‚Œã¾ã™ï¼

ã¾ãŸã€æœ¬ã‚¢ãƒ—ãƒªã¯Reactã®ç·´ç¿’ãŒã¦ã‚‰ä½œã£ãŸã‚‚ã®ãªã®ã¨ãã‚“ãªã«è¤‡é›‘ãªå‡¦ç†ã¯å¿…è¦ãªã‹ã£ãŸãŸã‚ã€ãƒ•ãƒ­ãƒ³ãƒˆã®å‡¦ç†(js)ã®ã¿ã§å®Œçµã—ã¦ã„ã¾ã™ã€‚

â€»ä»Šå›ã¯YouTubeã®APIã‚­ãƒ¼ãŒãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã™ãŒã€OpenAIã®APIã‚­ãƒ¼ç­‰ã€åˆ©ç”¨ã«ãŠé‡‘ãŒã‹ã‹ã‚‹APIã‚­ãƒ¼ã‚’ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã—ã¦GitHubç­‰ã«ã‚¢ãƒƒãƒ—ã™ã‚‹ã®ã¯ã‚„ã‚ã¾ã—ã‚‡ã†ã€‚

# ä½¿ç”¨ã—ãŸæŠ€è¡“
## Tauri
https://tauri.app/
(ä»¥ä¸‹Bing AIã®è§£èª¬)
>Tauriã¯ã€Rustã§æ›¸ã‹ã‚ŒãŸè»½é‡ãªGUIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã€Windowsã€macOSã€Linuxå‘ã‘ã®ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã§ãã¾ã™12ã€‚Tauriã¯ã€ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã‚’Rustã§è¨˜è¿°ã—ã¾ã™ãŒã€UIï¼ˆUser Interfaceï¼‰ã«ã¯WebæŠ€è¡“ã‚’åˆ©ç”¨ã—ã¾ã™1ã€‚Reactã‚„Vue.jsã®ã‚ˆã†ãªJavaScriptãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒãã®ã¾ã¾ä½¿ãˆã‚‹ã®ã§ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã§è¦‹æ „ãˆã®è‰¯ã„UIã‚’ç°¡å˜ã«æ§‹ç¯‰ã§ãã¾ã™1ã€‚
Tauriã®ç‰¹å¾´ã®ä¸€ã¤ã¯ã€ãã®è»½é‡ã•ã§ã™ã€‚åŒç¨®ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã«ElectronãŒã‚ã‚Šã¾ã™ãŒã€å¾Œç™ºã§ã‚ã‚‹Tauriã«ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ã®ã‚µã‚¤ã‚ºã‚’å°ã•ãã§ãã‚‹ãªã©ã®å¼·ã¿ãŒã‚ã‚Šã¾ã™1ã€‚Tauriã‚¢ãƒ—ãƒªã«ã¯Chromiumã‚„Node.jsãŒå«ã¾ã‚Œãªã„ãŸã‚ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ã®ã‚µã‚¤ã‚ºãŒå°ã•ããªã‚Šã¾ã™1ã€‚ã¾ãŸã€ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã‚’Rustã§è¨˜è¿°ã™ã‚‹ãŸã‚ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®é¢ã§ã‚‚æœ‰åˆ©ã§ã™1ã€‚
Tauriã®ãƒ­ã‚´ã¯ã€ãŠã†ã—åº§ã®äºŒé‡æ˜Ÿã§ã‚ã‚‹ã‚·ãƒ¼ã‚¿ã‚¿ã‚¦ãƒªï¼ˆÎ¸ Tauriï¼‰ã‚’ãƒ¢ãƒãƒ¼ãƒ•ã«ã—ã¦ãŠã‚Šã€Webã¨ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã®ç›¸äº’ä½œç”¨ã‚’æ„å‘³ã—ã¦ã„ã¾ã™1ã€‚

ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®pcã‚¢ãƒ—ãƒªã‚’ä½œã‚Œã‚‹rustãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚
å‹æ‰‹ã«ä¸»è¦³ã§ã¾ã¨ã‚ã‚‹ã¨
- ãƒ•ãƒ­ãƒ³ãƒˆã«JSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ãˆã‚‹ã®ã§å®£è¨€çš„ã«UIãŒæ›¸ã‘ã‚‹
- ãƒãƒƒã‚¯ã‚’Rustã§æ›¸ã‘ã‚‹ã®ã§é«˜é€Ÿ?(Rustã‚ã‹ã‚‰ã‚“)
- ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§Mac,Win,Linuxã«å¯¾å¿œ

ã“ã®ã‚ˆã†ãªåˆ©ç‚¹ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚
ç‰¹ã«æ§˜ã€…ãªä¾¿åˆ©æŠ€è¡“ãŒã‚ã‚‹JSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ãˆã‚‹ã®ã¯ã§ã‹ã„ã¨æ€ã„ã¾ã™ã€‚

## YouTube Data API
https://developers.google.com/youtube/v3/docs?hl=ja
(ä»¥ä¸‹Bing AIã®è§£èª¬)
>YouTube Data APIã¯ã€YouTubeãŒæä¾›ã™ã‚‹Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰å‘¼ã³å‡ºã—ã¦åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«å…¬é–‹ã•ã‚ŒãŸAPIã§ã™1ã€‚ã“ã®APIã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€YouTubeã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™2ã€‚
å…·ä½“çš„ãªåˆ©ç”¨æ‰‹é †ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™34ï¼š
Google Cloud Consoleã«ã‚¢ã‚¯ã‚»ã‚¹3ï¼šGoogleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸçŠ¶æ…‹ã§ã€Google Cloud Consoleã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™3ã€‚
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ34ï¼šæ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã™34ã€‚
YouTube Data API V3ã®æœ‰åŠ¹åŒ–34ï¼šä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§YouTube Data API V3ã‚’æœ‰åŠ¹åŒ–ã—ã¾ã™34ã€‚
APIã‚­ãƒ¼ã®ç”Ÿæˆã¨è¨­å®š34ï¼šYouTube Data API V3ã‚’ä½¿ã†ã«ã¯èªè¨¼ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã®ã§ã€ãã®èªè¨¼ã«ã™ã‚‹API Keyã‚’ç™ºè¡Œã—ã¾ã™34ã€‚
ã“ã‚Œã‚‰ã®æ‰‹é †ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€YouTube Data API V3ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®šã¨APIã‚­ãƒ¼ã®ç”ŸæˆãŒå®Œäº†ã—ã¾ã™4ã€‚
YouTube Data APIã¯ã€è‡ªåˆ†ã®å‹•ç”»ã®åˆ†æã‚ˆã‚Šã‚‚ã€YouTubeå…¨ä½“ã‚„ä»–ã®YouTubeãƒãƒ£ãƒ³ãƒãƒ«ã®åˆ†æã«å‘ã„ã¦ã„ã¾ã™5ã€‚å†ç”Ÿå›æ•°ã®é™é †ã§å‹•ç”»ã‚’å–å¾—ã™ã‚‹ã“ã¨ã§ã€ç‰¹å®šã®ã‚¸ãƒ£ãƒ³ãƒ«ã§å†ç”Ÿå›æ•°ã®å¤šã„å‹•ç”»ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚„ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã‚’åˆ†æã™ã‚‹ã“ã¨ãŒã§ãã¾ã™5ã€‚

YouTubeã®ã„ã‚ã‚“ãªãƒ‡ãƒ¼ã‚¿ã‚’APIã§å–å¾—ã§ãã¾ã™ã€‚
ä»Šå›ã¯YouTubeã®å‹•ç”»ãƒšãƒ¼ã‚¸ã®urlã‹ã‚‰å‹•ç”»ãƒ‡ãƒ¼ã‚¿ã®urlã‚’å–å¾—ã™ã‚‹æ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™ã€‚
ã“ã®APIã‚’ä½¿ã†ã“ã¨ã§å‹•ç”»ãƒšãƒ¼ã‚¸ã®urlã‚’å…¥åŠ›ã¨ã—ã¦ã€å‹•ç”»ãƒ‡ãƒ¼ã‚¿ã ã‘ã‚’å–å¾—ã§ãã‚‹ãŸã‚ã€ã‚ã¨ã¯ãã‚Œã‚’å†ç”Ÿã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã ã‘ã§åºƒå‘Šãªã—ã®YouTubeãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å‡ºæ¥ä¸ŠãŒã‚Šã§ã™ã€‚ç°¡å˜ã§ã™ã­ï¼ï¼

## React
(ä»¥ä¸‹Bing AIã®è§£èª¬)
>ã‚‚ã¡ã‚ã‚“ã§ã™ã€‚Reactã¯ã€Metaç¤¾ï¼ˆæ—§Facebookç¤¾ï¼‰ãŒé–‹ç™ºã—ãŸJavaScriptãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã€ãƒ¦ãƒ¼ã‚¶ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã«ä½¿ã‚ã‚Œã¾ã™Â¹Â²ã€‚ä»¥ä¸‹ã«ã€Reactã®ä¸»ãªç‰¹å¾´ã¨åˆ©ç‚¹ã‚’ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚
>**Reactã®ç‰¹å¾´**
>1. **å®£è¨€çš„ï¼ˆViewï¼‰**: React.jsã§ã¯ã€ã‚¢ãƒ—ãƒªã®å†…éƒ¨çŠ¶æ…‹ã«å¿œã˜ã¦ã€è¡¨ç¤ºå†…å®¹ã®æŒ‡ç¤ºã‚’å®£è¨€ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™Â¹ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€UIéƒ¨åˆ†ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’èª­ã¿è§£ãã“ã¨ãªãã€ç›´æ„Ÿçš„ã«ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹UIã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’æŒã¦ã¾ã™Â¹ã€‚
>2. **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ™ãƒ¼ã‚¹**: React.jsã§ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã€å¿…è¦ã«å¿œã˜ã¦çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã«ã‚ˆã‚Šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã—ã¦ã„ãã¾ã™Â¹ã€‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ™ãƒ¼ã‚¹ã§ã‚ã‚Œã°ã€å¾Œã‹ã‚‰å¤‰æ›´ã—ãŸã„ã¨ãã§ã‚‚å¯¾è±¡ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã¿æ›´æ–°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™Â¹ã€‚
>3. **ä¸€åº¦å­¦ç¿’ã™ã‚Œã°ã€ã©ã“ã§ã‚‚ä½¿ãˆã‚‹**: React.jsã§ã¯æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹å ´åˆã§ã‚‚ã€æ—¢å­˜ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãæ›ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“Â¹ã€‚ã¾ãŸã€React.jsã‚’å­¦ã¶ã“ã¨ã§Webã‚µã‚¤ãƒˆã‚„ã‚¢ãƒ—ãƒªé–‹ç™ºã ã‘ã§ãªãã€ã‚¹ãƒãƒ›ã‚¢ãƒ—ãƒªé–‹ç™ºã«ä½¿ã‚ã‚Œã‚‹ã€ŒReact Nativeã€ã¨ã„ã†ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™Â¹ã€‚
>**Reactã®åˆ©ç‚¹**
>1. **Webãƒšãƒ¼ã‚¸ã®è¡¨ç¤ºé€Ÿåº¦ãŒé€Ÿããªã‚‹**: React.jsã«ã¯ä»®æƒ³DOM (Virtual Document Object Model)ã¨ã„ã†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ©Ÿèƒ½ãŒæ¡ç”¨ã•ã‚Œã¦ã„ã¾ã™Â¹ã€‚React.jsã¯ãƒšãƒ¼ã‚¸ã‚’æ›´æ–°ã™ã‚‹ã¨ãã«ã€ãƒšãƒ¼ã‚¸å…¨ä½“ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹å¿…è¦ãŒãªãã€å¿…è¦ãªéƒ¨åˆ†ã®ã¿ã‚’æ›´æ–°ã™ã‚‹ä»•çµ„ã¿ã¨ãªã£ã¦ã„ã¾ã™Â¹ã€‚
>2. **å¤§è¦æ¨¡ãªé–‹ç™ºãŒå¯èƒ½ã«ãªã‚‹**: ãƒšãƒ¼ã‚¸é‡ã®å¤šã„å¤§è¦æ¨¡ãªé–‹ç™ºã§ã¯ã€ã‚ã‚‹ãƒšãƒ¼ã‚¸ã®ä¸€éƒ¨åˆ†ã‚’å¤‰æ›´ã—ãŸå ´åˆã«ä»–ã®ãƒšãƒ¼ã‚¸ã«ã‚‚å½±éŸ¿ã‚’åŠã¼ã—ã¦ã—ã¾ã„ã€å¤‰æ›´ã‚’åŠ ãˆã‚‹åº¦ã«å…¨ä½“çš„ãªãƒ†ã‚¹ãƒˆã‚’è¡Œã†å¿…è¦ãŒå‡ºã¦ãã¾ã™Â¹ã€‚ä¸€æ–¹React.jsã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã”ã¨ã«åˆ†è§£ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€åŠ¹ç‡çš„ã«ä¿®æ­£ã‚’åŠ ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™Â¹ã€‚
>3. **å°å…¥ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚‰ãªã„**: React.jsã¯ã€Metaç¤¾ãŒé–‹ç™ºã—ã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã¨ã—ã¦å…¬é–‹ã•ã‚Œã¦ã„ã‚‹JavaScriptãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™Â¹ã€‚ãã®ãŸã‚ã‚³ã‚¹ãƒˆã‚’ã‹ã‘ã‚‹ã“ã¨ãªãã€æ‰‹è»½ã«å°å…¥ã§ãã‚‹ç‚¹ãŒãƒ¡ãƒªãƒƒãƒˆã®ä¸€ã¤ã§ã™Â¹ã€‚
>4. **æœ€å…ˆç«¯ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½œã‚Œã‚‹**: React.jsã¯ã€æœ€å…ˆç«¯ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ§‹ç¯‰ã§ãã‚‹ã¨ã„ã†ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™Â¹ã€‚React.jsã¯ä¸–ç•Œä¸­ã§å¤šãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ´»ç”¨ã—ã¦ãŠã‚Šã€ä¸­ã§ã‚‚ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã‚ã‚‹å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯æ´—ç·´ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³ã¨ãªã£ã¦ã„ã¾ã™Â¹ã€‚

æœ€é«˜ã®è§£èª¬ã§ã™ã€‚
BingAIãã‚“ãŒå…¨éƒ¨è¨€ã£ã¦ãã‚Œã¾ã—ãŸãŒã€Reactã¯å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çµ„ã¿åˆã‚ã›ã§é«˜é€ŸãªWebUIã‚’å®£è¨€çš„ã«æ§‹ç¯‰ã§ãã¾ã™ã€‚
ã¾ãŸã€Reactå‘ã‘ã®æ§˜ã€…ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå­˜åœ¨ã—ã¦ã„ã‚‹ãŸã‚ã€å¤§ä½“ã®ã“ã¨ã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ç°¡å˜ã«è§£æ±ºã§ãã¾ã™ã€‚

# ç’°å¢ƒæ§‹ç¯‰
ã¾ãšä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§Tauriã‚¢ãƒ—ãƒªã®é››å½¢ã‚’ä½œæˆã—ã¾ã™ã€‚
```
yarn create tauri-app
```
ã™ã‚‹ã¨å¯¾è©±å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åŸºæœ¬è¨­å®šãŒå§‹ã¾ã‚Šã¾ã™ã€‚
ä¸‹ã®ã‚ˆã†ã«ç­”ãˆã‚‹ã¨ä»Šå›ã¨åŒã˜è¨­å®šã«ãªã‚Šã¾ã™ã€‚
```
âœ” Project name Â· Simple-YouTube-Player
âœ” Choose which language to use for your frontend Â· TypeScript / JavaScript - (pnpm, yarn, npm, bun)
âœ” Choose your package manager Â· yarn
âœ” Choose your UI template Â· React - (https://reactjs.org/)
âœ” Choose your UI flavor Â· JavaScript
```
æ¬¡ã«ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
```
yarn install
```
ã“ã‚Œã§ç’°å¢ƒæ§‹ç¯‰ã¯å®Œäº†ã§ã™ï¼

```
yarn dev
```
ã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã€è¡¨ç¤ºã•ã‚ŒãŸãƒãƒ¼ãƒˆ(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯http://localhost:1420)ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã€ä¸‹ã®ã‚ˆã†ãªç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/1aac4dffbe9c-20231214.png)

å®Ÿéš›ã®ç’°å¢ƒã§è©¦ã—ãŸã„æ–¹ã¯
```
yarn tauri dev
```
ã§Webã§ã¯ãªãã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦èµ·å‹•ã§ãã¾ã™ã€‚
ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸå ´åˆã¯ã€
```
rustup update
```
ã§Rustã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ã‹ã‚‰è©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®èª¬æ˜
(ä»¥ä¸‹Bing AIã®è§£èª¬)
>yarn create tauri-appã§ç”Ÿæˆã•ã‚ŒãŸå„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å½¹å‰²ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ï¼š
README.md: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®èª¬æ˜ã‚„ä½¿ç”¨æ–¹æ³•ãªã©ã‚’è¨˜è¿°ã™ã‚‹ãŸã‚ã®ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚
index.html: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã¨ãªã‚‹HTMLãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚
node_modules: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ã™ã‚‹npmãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã™ã€‚
package.json: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚„ä¾å­˜é–¢ä¿‚ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆãªã©ã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚
public: é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆç”»åƒã€ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆã€JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ãªã©ï¼‰ã‚’æ ¼ç´ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã™ã€‚
src: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ ¼ç´ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã™ã€‚
src-tauri: Tauriã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚„Rustã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ ¼ç´ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã™ã€‚
vite.config.js: Viteã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚Viteã¯ã€ãƒ¢ãƒ€ãƒ³ãªãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å‘ã‘ã®ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚
yarn.lock: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜é–¢ä¿‚ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ­£ç¢ºã«è¿½è·¡ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚
ã“ã‚Œã‚‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ã€Tauriã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹ç¯‰ã¨å®Ÿè¡Œã«å¿…è¦ãªã‚‚ã®ã§ã™12ã€‚ãã‚Œãã‚Œã®å½¹å‰²ã‚’ç†è§£ã™ã‚‹ã“ã¨ã§ã€åŠ¹ç‡çš„ã«é–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚12ã€‚

ä»Šå›ä¸»ã«å¼„ã£ã¦ã„ãã®ã¯`src`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãªã‚Šã¾ã™ã€‚
`src`å†…ã«ã¯ãƒ•ãƒ­ãƒ³ãƒˆã®å‡¦ç†ã‚’è¨˜è¿°ã—ã¾ã™ã€‚

ç‰¹ã«é‡è¦ãªã®ãŒ`App.jsx`ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚
`App.jsx`ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ã€ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã¨ãªã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«ãªã‚Šã¾ã™ã€‚

# ã‚³ãƒ¼ãƒ‰è§£èª¬
ã“ã“ã‹ã‚‰ã¯å®Ÿéš›ã«ã‚¢ãƒ—ãƒªå†…ã®ã‚³ãƒ¼ãƒ‰ã‚’äº¤ãˆãªãŒã‚‰ã€å®Ÿè£…ã‚’ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚
ãªã‚“ã¨ãªãæ›¸ãæ–¹ã®é›°å›²æ°—ã‚’æ´ã‚“ã§ã„ãŸã ã‘ãŸã‚‰ã¨æ€ã„ã¾ã™ã€‚
## ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
å°‘ã—é•·ã„ã§ã™ãŒã€ä»¥ä¸‹ãŒæœ¬ã‚¢ãƒ—ãƒªã®App.jsxã§ã™ã€‚
```jsx:App.jsx
import { useRef, useState, useEffect } from "react";
import { createTheme } from '@mui/material/styles';
import { ThemeProvider } from '@mui/material/styles';
import { invoke } from "@tauri-apps/api/tauri";
import DisplayTrack from "./components/DisplayTrack";
import Controls from "./components/Controls";
import TopBar from "./components/TopBar";
import SearchBar from "./components/SearchBar";
import PlayList from "./components/PlayList";
import History from "./components/History";
import Settings from "./components/Settings";

const App = () => {
  // ãƒ†ãƒ¼ãƒã®è¨­å®š
  const firstTheme = createTheme({
    palette: {
      mode: 'dark',
      primary: {
        main: '#535bf2',
      },
    },
  })

  const [theme, setTheme] = useState(firstTheme);

  // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
  const savedHistories = localStorage.getItem('histories');
  const [histories, setHistories] = useState(savedHistories ? JSON.parse(savedHistories) : []);

  const [drawerOpened, setDrawerOpened] = useState(false);
  const [isDisplayTrack, setIsDisplayTrack] = useState(true);
  const savedTheme = localStorage.getItem('theme');
  const [tracks, setTracks] = useState([]);
  const [trackIndex, setTrackIndex] = useState(0);
  const [currentTrack, setCurrentTrack] = useState(tracks[trackIndex]);
  const playerRef = useRef();

  useEffect(() => {

    if (savedTheme) {
      const newTheme = createTheme(JSON.parse(savedTheme));
      setTheme(newTheme);
    }
  }, []);

  // å±¥æ­´ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã•ã‚ŒãŸã¨ãã«ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
  useEffect(() => {
    localStorage.setItem('histories', JSON.stringify(histories));
  }, [histories]);

  useEffect(() => {
    localStorage.setItem('theme', JSON.stringify(theme));
  }, [theme]);

  const handleNext = () => {
    if (trackIndex >= tracks.length - 1) {
      setTrackIndex(0);
      setCurrentTrack(tracks[0]);
    } else {
      setTrackIndex((prev) => prev + 1);
      setCurrentTrack(tracks[trackIndex + 1]);
    }
  };

  return (
    <>
      <ThemeProvider theme={theme}>
        <TopBar {...{ isDisplayTrack, setIsDisplayTrack, drawerOpened, setDrawerOpened, theme }} />
        {isDisplayTrack && (
          <>
            <SearchBar
              {...{
                tracks,
                setTrackIndex,
                setTracks,
                setCurrentTrack,
                histories,
                setHistories
              }}
            />
            <div className="audio-player">
              <div className="inner">
                <PlayList
                  {...{
                    currentTrack,
                    tracks,
                    trackIndex,
                    setTrackIndex,
                    setCurrentTrack,
                    theme
                  }}
                />
                <div>
                  <DisplayTrack
                    {...{
                      currentTrack,
                      tracks,
                      trackIndex,
                      setTrackIndex,
                      setCurrentTrack,
                    }}
                  />
                  {currentTrack && (
                    <Controls
                      {...{
                        playerRef,
                        tracks,
                        trackIndex,
                        setTrackIndex,
                        setCurrentTrack,
                        handleNext,
                      }}
                    />)}
                </div>
              </div>
            </div>
          </>
        )}
        {!isDisplayTrack && (
          <>
            <History
              {...{
                currentTrack,
                tracks,
                setTracks,
                trackIndex,
                setTrackIndex,
                setCurrentTrack,
                histories,
                setHistories
              }}
            />
          </>
        )}
        <Settings  {...{ drawerOpened, setDrawerOpened, theme, setTheme }} />
      </ThemeProvider>
    </>
  );
};
export default App;
```
Reactã‚’ãƒ¢ãƒªãƒ¢ãƒªæ›¸ã„ã¦ã‚‹ä»Šã®è‡ªåˆ†ã‹ã‚‰è¦‹ã‚‹ã¨ã‹ãªã‚ŠãŠç²—æœ«ãªè¨­è¨ˆã§ã™ã­...

ä»Šå›å®Ÿè£…ã—ãŸã®ã¯å‹•ç”»å†ç”Ÿç”»é¢ã¨å±¥æ­´é–²è¦§ç”»é¢ã®2ç”»é¢ã®ã¿ãªã®ã§ã€ãƒšãƒ¼ã‚¸é·ç§»ã¯å®Ÿè£…ã›ãšã€`App.jsx`å†…ã«å…¨ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’é…ç½®ã—ã¾ã—ãŸã€‚
`isDisplayTrack`ã¨ã„ã†Stateã§ã©ã¡ã‚‰ã®ç”»é¢ã‚’è¡¨ç¤ºã™ã‚‹ã‹åˆ†ã‘ã¦ã„ã¾ã™ã€‚

å…¨ä½“ã®è©³ã—ã„å®Ÿè£…ã¯GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’è¦‹ã¦ã‚‚ã‚‰ã†ã¨ã—ã¦ã€ä»¥ä¸‹ã§æ ¹å¹¹ã®éƒ¨åˆ†ãã‚‰ã„ã¯è©³ã—ãè§£èª¬ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚
## APIå‘¼ã³å‡ºã—

ä»¥ä¸‹ã¯ãƒ¦ãƒ¼ã‚¶ã®å…¥åŠ›ã‚’å—ã‘ã¨ã‚ŠAPIã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹`SearchBar.jsx`ã®ä¸€éƒ¨ã§ã™ã€‚
```jsx:SearchBar.jsx
...
const [url, setUrl] = useState('');
...
<TextField fullWidth id='search-bar-input' label="Search" variant="standard"
          color='primary'
          placeholder="Input YouTube playlist URL"
          onChange={(e) => setUrl(e.target.value)}
          onKeyDown={handleKeyDown}
          InputProps={{
            style: {
              color: '#c2c2c2',
              boxShadow: 'none'
            }
          }}
          InputLabelProps={{
            style: {
              color: '#c2c2c2'
            }
          }}
        />
...
```
ã“ã®éƒ¨åˆ†ã§ã€TextFieldã«å…¥åŠ›ã•ã‚ŒãŸæ–‡å­—åˆ—ã‚’urlã¨ã„ã†Stateã«ä¿å­˜ã—ã¦ã„ã¾ã™ã€‚

```jsx:SearchBar.jsx
...
const handleKeyDown = async (event) => {
    if (event.key === 'Enter') {
      startSearch();
    }
  }
  
...
 
<TextField fullWidth id='search-bar-input' label="Search" variant="standard"
          color='primary'
          placeholder="Input YouTube playlist URL"
          onChange={(e) => setUrl(e.target.value)}
          onKeyDown={handleKeyDown}
          InputProps={{
            style: {
              color: '#c2c2c2',
              boxShadow: 'none'
            }
          }}
          InputLabelProps={{
            style: {
              color: '#c2c2c2'
            }
          }}
        />
        <Tooltip title="Search">
          <IconButton type="button" sx={{ p: '10px' }} aria-label="search"
            onClick={() => { startSearch() }}
            style={{ color: '2f2f2f', boxShadow: 'none', marginLeft: '12px' }}>
            <SearchIcon style={{ color: '#c2c2c2' }} />
          </IconButton>
        </Tooltip>
...
```
æ¤œç´¢ãƒœã‚¿ãƒ³ã‹Enterã‚­ãƒ¼ãŒæŠ¼ã•ã‚ŒãŸæ™‚ã«`startSearch`é–¢æ•°ã‚’å‘¼ã³ã¾ã™ã€‚

```jsx:startSearch
...
async function startSearch() {
    if (url.includes('list=')) {
      const newTracks = await getTracksFromPlaylistUrl(url);
      setTracks(tracks => [...tracks, ...newTracks]);

      const playlist = await createHistoryFromPlaylistUrl(url);
      for (let i = 0; i < histories.length; i++) {
        if (histories[i].src === playlist.src) {
          histories.splice(i, 1);
          break;
        }
      }
      setHistories(histories => [...histories, playlist]);
    } else {
      const track = await getTrackFromUrl(url);
      setTracks(tracks => [...tracks, track]);

      const history = await createHistoryFromUrl(url);
      for (let i = 0; i < histories.length; i++) {
        if (histories[i].src === history.src) {
          histories.splice(i, 1);
          break;
        }
      }
      setHistories(histories => [...histories, history]);
    }
    document.getElementById('search-bar-input').value = '';
  }
...
```
`startSearch`é–¢æ•°ã§ã¯urlã«`list=`ã¨ã„ã†æ–‡å­—åˆ—ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ã§å‹•ç”»/ãƒ—ãƒ¬ã‚¤ãƒªã‚¹ãƒˆã®urlã‚’åˆ¤åˆ¥ã—ã€APIã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å—ã‘å–ã£ã¦Stateã«æ ¼ç´ã—ã¦ã„ã¾ã™ã€‚
æ¬¡ã«å®Ÿéš›ã«APIã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹`getTrackFromUrl`é–¢æ•°ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```jsx:getTrackFromUrl
async function getTrackFromUrl(url) {
    var regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;
    var match = url.match(regExp);
    const videoId = (match && match[7].length == 11) ? match[7] : false;

    const response = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet&id=${videoId}&key=${API_KEY}`);
    const data = await response.json();

    if (!data.items || data.items.length === 0) {
      throw new Error('No video found');
    }

    const videoData = data.items[0].snippet;

    return {
      title: videoData.title,
      src: url,
      author: videoData.channelTitle,
      thumbnail: videoData.thumbnails.default.url
    };
  }
```
æ­£è¦è¡¨ç¾ã‚’ä½¿ã£ã¦Youtubeã®å‹•ç”»ãƒšãƒ¼ã‚¸ã®urlã‹ã‚‰å‹•ç”»IDã‚’åˆ‡ã‚Šå‡ºã—ã€å‹•ç”»IDã¨APIã‚­ãƒ¼ã‚’ä½¿ã£ã¦APIã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚
å‹•ç”»ãŒè¦‹ã¤ã‹ã£ãŸå ´åˆã¯ã‚¿ã‚¤ãƒˆãƒ«ã€å‹•ç”»ãƒ‡ãƒ¼ã‚¿ã®urlã€ãƒãƒ£ãƒ³ãƒãƒ«åã€ã‚µãƒ ãƒã‚¤ãƒ«ã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦è¿”ã—ã¾ã™ã€‚

ã“ã‚Œã‚‰ã‚’ä½¿ã„ã€`SearchBar`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯urlã‹ã‚‰å‹•ç”»ã‚’æ¤œç´¢ã—ã€å‹•ç”»æƒ…å ±ã‚’ãƒˆãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆã¨å±¥æ­´ã«è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚

## å‹•ç”»å†ç”Ÿ
å‹•ç”»ã®å†ç”Ÿã‚„æ“ä½œã¯`DisplayTrack`ã¨`Controls`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§è¡Œã£ã¦ã„ã¾ã™ã€‚

```jsx:DisplayTrack
import ReactPlayer from 'react-player';

const DisplayTrack = ({
  currentTrack,
  tracks,
  trackIndex,
  setTrackIndex,
  setCurrentTrack
}) => {

  const playNext = () => {
    if (trackIndex === tracks.length - 1) {
      setTrackIndex(0);
      setCurrentTrack(tracks[0]);
    } else {
      setTrackIndex((prev) => prev + 1);
      setCurrentTrack(tracks[trackIndex + 1]);
    }
  }

  return (
    <div>
      {currentTrack && (
        <ReactPlayer url={currentTrack.src} controls={true} playing={true} onEnded={playNext} />
      )}
    </div>
  );
};

export default DisplayTrack;
```
å‹•ç”»ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¯`react-player`ã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ç°¡å˜ã«å®Ÿè£…ã§ãã¾ã—ãŸã€‚
`onEnded`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ç¾åœ¨å‹•ç”»ã®Stateã‚’æ¬¡ã®å‹•ç”»ã«é€²ã‚ã‚‹é–¢æ•°ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€è‡ªå‹•å†ç”Ÿã‚‚å®Ÿè£…ã—ã¾ã—ãŸã€‚

```jsx:Controls.jsx
import { IconButton } from '@mui/material'
import { useState, useEffect, useRef, useCallback } from 'react';

// icons
import FastForwardRounded from '@mui/icons-material/FastForwardRounded';
import FastRewindRounded from '@mui/icons-material/FastRewindRounded';

const Controls = ({
  playerRef,
  tracks,
  trackIndex,
  setTrackIndex,
  setCurrentTrack,
  handleNext,
}) => {

  const [isPlaying, setIsPlaying] = useState(false);

  useEffect(() => {
    if (playerRef && playerRef.current) {
      if (isPlaying) {
        playerRef.current.getInternalPlayer().playVideo();
      } else {
        playerRef.current.getInternalPlayer().pauseVideo();
      }
    }
  }, [isPlaying, playerRef]);


  const handlePrevious = () => {
    if (trackIndex === 0) {
      let lastTrackIndex = tracks.length - 1;
      setTrackIndex(lastTrackIndex);
      setCurrentTrack(tracks[lastTrackIndex]);
    } else {
      setTrackIndex((prev) => prev - 1);
      setCurrentTrack(tracks[trackIndex - 1]);
    }
    setIsPlaying(true);
  };

  return (
    <div className="controls-wrapper">
      <div className="controls">
        <IconButton aria-label="previous song" onClick={handlePrevious} style={{ color: 'white', boxShadow: 'none' }}>
          <FastRewindRounded fontSize="large" />
        </IconButton>
        <IconButton aria-label="next song" onClick={handleNext} style={{ color: 'white', boxShadow: 'none' }}>
          <FastForwardRounded fontSize="large" />
        </IconButton>
      </div>
    </div>
  );
};

export default Controls;
```
ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ãƒœã‚¿ãƒ³ã§å‹•ç”»ã‚’å‰å¾Œã•ã›ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚
Stateã®å¤‰æ›´å‡¦ç†ã¨ãƒœã‚¿ãƒ³ã‚’ç´ã¥ã‘ãŸã ã‘ã§ã™ã€‚

## å±¥æ­´ã®ä¿å­˜
Tauriã¯wryã¨ã„ã†WebView ã®ãƒ©ãƒƒãƒ‘ãƒ¼ã«ã‚ˆã£ã¦Macã®å ´åˆã¯WebKitã€Windowsã®å ´åˆã¯WebView2ã‚’ä½¿ã£ã¦ãƒ•ãƒ­ãƒ³ãƒˆã‚’å‹•ä½œã•ã›ã¦ã„ã¾ã™ã€‚
ãã®ãŸã‚ã€Webé–‹ç™ºã§ä½¿ã†ã“ã¨ã®ã§ãã‚‹æ©Ÿèƒ½ã¯ã»ã¼å…¨ã¦ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚

æœ¬ã‚¢ãƒ—ãƒªã§ã¯ã‚¢ãƒ—ãƒªã‚’é–‰ã˜ã¦ã‚‚å‹•ç”»ã®å†ç”Ÿå±¥æ­´ãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚
ã“ã®ã‚ˆã†ãªæ©Ÿèƒ½ã¯Unityã§ã¯æ¯å›ã‹ãªã‚Šé ­ã‚’æ»ã‚‰ã›ã¦å®Ÿè£…ã—ã¦ã„ã¾ã™ãŒTauriã§ã¯**Webãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ©Ÿèƒ½**ã‚’ä½¿ã†ã“ã¨ã§éå¸¸ã«ç°¡å˜ã«å®Ÿè£…ã§ãã¾ã—ãŸã€‚

```jsx:App.jsx
...
// ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
  const savedHistories = localStorage.getItem("histories");
  const [histories, setHistories] = useState(savedHistories ? JSON.parse(savedHistories) : []);
  const savedTheme = localStorage.getItem("theme");
  
  // å±¥æ­´ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã•ã‚ŒãŸã¨ãã«ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
  useEffect(() => {
    localStorage.setItem("histories", JSON.stringify(histories));
  }, [histories]);

  useEffect(() => {
    localStorage.setItem("theme", JSON.stringify(theme));
  }, [theme]);
...
```
ã“ã®ã‚ˆã†ã«ã€`localStorage.setItem("ãƒ‡ãƒ¼ã‚¿å", jsonãƒ‡ãƒ¼ã‚¿)`ã¨ã™ã‚‹ã“ã¨ã§ã€ç°¡å˜ã«ãƒ–ãƒ©ã‚¦ã‚¶(WebView)ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã¾ãŸã€`localStorage.getItem("ãƒ‡ãƒ¼ã‚¿å")`ã¨ã™ã‚‹ã“ã¨ã§ç°¡å˜ã«ä¿å­˜ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿å‡ºã›ã¾ã™ã€‚

ã“ã®æ©Ÿèƒ½ã§æœ¬ã‚¢ãƒ—ãƒªã§ã¯å‹•ç”»ã®å†ç”Ÿå±¥æ­´ã¨UIã®ãƒ†ãƒ¼ãƒè‰²ã‚’ç®¡ç†ã—ã¦ã„ã¾ã™ã€‚

```jsx:History.jsx
...
const clearHistories = () => {
    setHistories([]);
    localStorage.removeItem("histories");
  }
...
```
ã¾ãŸã€`localStorage.removeItem("ãƒ‡ãƒ¼ã‚¿å")`ã¨ã™ã‚‹ã“ã¨ã§ã€ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤ã‚‚ç°¡å˜ã«ã§ãã¾ã™ã€‚

## ãƒ“ãƒ«ãƒ‰
æœ€å¾Œã«ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å‘ã‘ã®ãƒ“ãƒ«ãƒ‰æ–¹æ³•ã‚’è§£èª¬ã—ã¾ã™ã€‚
ç§ã¯ä»Šå›GitHub Actionsã‚’ç”¨ã„ã¦mainãƒ–ãƒ©ãƒ³ãƒã«pushã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å‘ã‘ã«è‡ªå‹•ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚
ä»¥ä¸‹ãŒworkflowãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚

```yaml:.github/workflows/build.yaml
name: "publish"
on:
 push:
  branches:
   - main

jobs:
 publish-tauri:
  permissions:
   contents: write
  strategy:
   fail-fast: false
   matrix:
    platform: [macos-latest, ubuntu-20.04, windows-latest]

  runs-on: ${{ matrix.platform }}
  steps:
   - name: Enable longpaths
     if: runner.os == 'Windows'
     run: git config --system core.longpaths true
   - uses: actions/checkout@v3
   - name: setup node
     uses: actions/setup-node@v3
     with:
      node-version: 16
   - name: install Rust stable
     uses: dtolnay/rust-toolchain@stable
   - name: install dependencies (ubuntu only)
     if: matrix.platform == 'ubuntu-20.04'
     run: |
      sudo apt-get update
      sudo apt-get install -y libgtk-3-dev libwebkit2gtk-4.0-dev libappindicator3-dev librsvg2-dev patchelf
   - name: install frontend dependencies
     run: yarn install # change this to npm or pnpm depending on which one you use
   - uses: tauri-apps/tauri-action@v0
     env:
      GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
     with:
      tagName: app-v__VERSION__ # the action automatically replaces \_\_VERSION\_\_ with the app version
      releaseName: "App v__VERSION__"
      releaseBody: "See the assets to download this version and install."
      releaseDraft: true
      prerelease: false
```
ç§ã‚‚ã‚ã‚“ã¾ã‚Šå†…å®¹ã¯ç†è§£ã—ã¦ã„ã¾ã›ã‚“ãŒã€ã¨ã‚Šã‚ãˆãšã“ã‚Œã‚’é…ç½®ã—ã¦pushã™ã‚‹ã ã‘ã§GitHubãŒå‹æ‰‹ã«ãƒ“ãƒ«ãƒ‰ã—ã¦ãã‚Œã¾ã™ï¼ï¼
(Releaseã«è¨­å®šã™ã‚‹ã®ã‚’å¿˜ã‚Œãšã«ã‚„ã‚Šã¾ã—ã‚‡ã†)


# ãŠã‚ã‚Šã«
ã“ã“ã¾ã§èª­ã‚“ã§ã„ãŸã ã„ã¦ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼

ä»Šå›ã¯Tauriã‚’ä½¿ã£ã¦ç°¡å˜ã«ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãªã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¾ã—ãŸï¼
Reactã‚’ä½¿ã£ãŸWebé–‹ç™ºçµŒé¨“ãŒã‚ã‚‹æ–¹ã‹ã‚‰ã¯å¸¸è­˜ãƒ¬ãƒ™ãƒ«ã®å®Ÿè£…ã§ã™ãŒã€æˆæ¥­ã§ã¯vanilla JSã—ã‹è§¦ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã“ã“ã¾ã§å®Œæˆã•ã›ã‚‹ã®ã«ãªã‹ãªã‹è‹¦åŠ´ã—ã¾ã—ãŸ...

ãŸã Reactã¯æ…£ã‚Œã¦ã—ã¾ãˆã°çµ¶å¯¾ã«vanilla JSã«æˆ»ã‚ŠãŸããªã„ã¨ã„ã†ãƒ¬ãƒ™ãƒ«ã§æ›¸ãã‚„ã™ã„ã®ã§ã¾ã Reactã«è§¦ã‚ŒãŸã“ã¨ã®ãªã„æ–¹ã¯æ˜¯éè§¦ã£ã¦ã¿ã¦ãã ã•ã„ï¼
(Rustã¯ã¾ãŸã„ã¤ã‹å‹‰å¼·ã—ãŸã„...)
<br><br><br><br>
 
ã“ã®è¨˜äº‹ã¯[ãƒ‘ãƒ³å±‹ã•ã‚“ã€‚](https://twitter.com/Bakery_panya)ä¸»å‚¬ã®**éå…¬å¼_å…¨å›½é«˜å°‚ Advent Calendar**ã«å‚åŠ ã—ã¦ã„ã¾ã™ï¼
ä»–ã®è¨˜äº‹ã¯ã“ã¡ã‚‰ã‹ã‚‰ï¼
https://t.co/38eIClHk7E